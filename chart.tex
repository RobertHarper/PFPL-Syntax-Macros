\documentclass[11pt,twoside]{article}
\usepackage[authoryear,semicolon]{natbib}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{textgreek}
\usepackage[color=yellow,textwidth=1.0in]{todonotes}
\setlength{\marginparwidth}{1.25in}
\usepackage{xifthen}
\usepackage{amsmath,amssymb,amsthm,mathtools,stmaryrd}
\usepackage{mathpartir}
\usepackage{colonequals}
\usepackage{textcomp}
\usepackage[us]{optional}
\usepackage{color}
\usepackage{url}
\usepackage{hyperref}
\usepackage{doi}
\usepackage{graphics}
\usepackage{import}
\usepackage{stackengine}
\usepackage{scalerel}

\usepackage{pfpl-syntax}

\allowdisplaybreaks[1]       %mildly permissible to break up displayed equations

\title{\textsf{PFPL} Syntax Master Chart%
\footnote{\copyright{} \the\year{} Robert Harper.  All Rights Reserved.}}
\author{Robert Harper}
\date{\today}

\NewDocumentCommand{\kw}{m}{\texttt{#1}}
\NewDocumentCommand{\singmap}{m m}{#1\hookrightarrow #2}
\NewDocumentCommand{\finmap}{s m m m}{\IfBooleanTF{#1}{#4_{#2}}{\singmap{#3}{#4_#3}\mid #3\in #2}}

\begin{document}

\maketitle{}

\noindent Product types:\footnote{Variadic operators are implicitly indexed by finite sets $I$ of labels.  Then $\tau_I$ stands for the finite map $\finmap{I}{i}{\tau}$ and $e_I$ stands for $\finmap{I}{i}{e}$.}
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \unitTy{} & \unitTy*{} \\
    \unitEx{} & \unitEx*{} \\[1ex]

    \prodTy{\tau_1}{\tau_2} & \prodTy*{\tau_1}{\tau_2} \\
    \projEx<i>{e} & \projEx*<i>{e} & (i=\kw{1},\kw{2}) \\
    \pairEx{e_1}{e_2} & \pairEx*{e_1}{e_2} \\[1ex]

    \vprodTy<I><i>{\tau} & \vprodTy*{\tau} \\
    \vtupleEx<I>[\tau]{e} & \vtupleEx*<I>{e} \\
    \vprojEx<I><i>[\tau]{e} & \vprojEx*<i>{e} & (i\in I)
  \end{array}
\end{displaymath}

\noindent Sum types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \voidTy & \voidTy* \\
    \absurdEx[\rho]{e} & \absurdEx*{e} \\[1ex]

    \sumTy{\tau_1}{\tau_2} & \sumTy*{\tau_1}{\tau_2} \\
    \injEx<i>[\tau_1][\tau_2]{e} & \injEx*<i>{e} & (i=\kw{1},\kw{2}) \\
    \caseEx[\tau][\rho]{e}{x}{e} & \caseEx*{e}{x}{e} \\[1ex]

    \boolTy & \boolTy* \\
    \trueEx & \trueEx* \\
    \falseEx & \falseEx* \\
    \ifEx{e}{e_1}{e_2} & \ifEx*{e}{e_1}{e_2} \\[1ex]

    \vsumTy<I><i>{\tau}  & \vsumTy*<I><i>{\tau} \\
    \vinjEx<I><i>[\tau]{e} & \vinjEx*<I><i>{e} & (i\in I) \\
    \vcaseEx<I>[\rho][\tau]{e}{x}{e'}  & \vcaseEx*<I>{e}{x}{e'}
  \end{array}
\end{displaymath}

\noindent Total function types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \arrTy{\tau_1}{\tau_2} & \arrTy*{\tau_1}{\tau_2} \\
    \lamEx{x}{e} & \lamEx*{x}{e} \\
    \appEx{e_1}{e_2} & \appEx*{e_1}{e_2}
  \end{array}
\end{displaymath}

\noindent Continuation types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \ansTy & \ansTy* \\
    \yesEx & \yesEx* \\
    \noEx & \noEx* \\[1ex]

    \contTy{\tau}     & \contTy*{\tau} \\
    \contEx{k}        & \contEx*{k} \\
    \letccEx[\tau]{x}{e} & \letccEx*{x}{e} \\
    \throwEx[\tau][\rho]{e_1}{e_2} & \throwEx*{e_1}{e_2} \\[1ex]

    \empStk[\tau]     & \empStk*[\tau] \\
    \extStk[\tau_1][\tau_2]{k}{f}     & \extStk*{k}{f} 
  \end{array}
\end{displaymath}

\noindent Inductive types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \indTy{t}{\tau} & \indTy*{t}{\tau} \\
    \inEx[t][\tau]{e} & \inEx*{e} \\
    \recEx[t][\tau][\rho]{e}{x}{e'} & \recEx*{e}{x}{e'} \\[1ex]

    \natTy{} & \natTy*{} \\
    \zeroEx  & \zeroEx* \\
    \succEx{e} & \succEx*{e} \\
    \natitEx[\rho]{e}{e_0}{x}{e_1} & \natitEx*{e}{e_0}{x}{e_1} \\
    \ifzEx[\rho]{e}{e_0}{x}{e_1} & \ifzEx*{e}{e_0}{x}{e_1} \\[1ex]

    \listTy{\tau} & \listTy*{\tau}  \\
    \nilEx[\tau] & \nilEx*{} \\
    \consEx[\tau]{e_1}{e_2} & \consEx*{e_1}{e_2} \\
    \listrecEx[\rho][\tau]{e}{e_1}{x}{y}{e_2} & \listrecEx*{e}{e_1}{x}{y}{e_2} \\
    \listcaseEx[\rho][\tau]{e}{e_1}{x}{y}{e_2} & \listcaseEx*{e}{e_1}{x}{y}{e_2}
  \end{array}
\end{displaymath}

\noindent Coinductive Types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \coiTy{t}{\tau} & \coiTy*{t}{\tau} \\
    \outEx[t][\tau]{e} & \outEx*{e} \\
    \genEx[t][\tau][\sigma]{e}{x}{e'} & \genEx*{e}{x}{e'} \\[1ex]

    \conatTy{} & \conatTy*{} \\[1ex]

    \streamTy{\tau} & \streamTy*{\tau} \\[1ex]

  \end{array}
\end{displaymath}

\noindent Polymorphic types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \AllTy{t}{\tau} & \AllTy*{t}{\tau} \\
    \LamEx{t}[\tau]{e} & \LamEx*{t}{e} \\
    \AppEx[t][\tau]{e}{\sigma} & \AppEx*{e}{\sigma}\\[1ex]
    \SomeTy{t}{\tau}  & \SomeTy*{t}{\tau} \\
    \PackEx[t][\tau]{\rho}{e} & \PackEx*{\rho}{e} \\
    \OpenEx[t][\tau]{e}[\rho]{x}{e'} & \OpenEx*[t][\tau]{e}[\rho]{x}{e'}
  \end{array}
\end{displaymath}

\noindent Recursive types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}

    \parrTy{\tau_1}{\tau_2} & \parrTy*{\tau_1}{\tau_2} \\
    \funEx{f}{x}{e} & \funEx*{f}{x}{e} \\
    \appEx{e_1}{e_2} & \appEx*{e_1}{e_2} \\[1ex]

    \fixEx[\tau]{x}{e} & \fixEx*[\tau]{x}{e}  \\[1ex]

    \recTy{t}{\tau} & \recTy*{t}{\tau} \\
    \foldEx[t][\tau]{e}  & \foldEx*{e} \\
    \unfoldEx[t][\tau]{e} & \unfoldEx*{e} \\[1ex]

    \selfTy{\tau}  & \selfTy*{\tau} \\
    \rollEx[\tau]{e} & \rollEx*{e} \\
    \selfEx[\tau]{x}{e} & \selfEx*{x}{e} \\[1ex]

    \ulamEx{x}{M} & \ulamEx*{x}{M} \\
    \uapEx{M_1}{M_2} & \uapEx*{M_1}{M_2} \\
    \uIEx & \uIEx* \\
    \uKEx & \uKEx* \\
    \uSEx & \uSEx* \\
    \uBEx & \uBEx*
  \end{array}
\end{displaymath}

\noindent Commands:\footnote{Symbols $a$ are constants of sort $\kw{loc}$.}
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \cmdTy{\tau}  & \cmdTy*{\tau} \\
    \cmdEx[\tau]{m} & \cmdEx*{m} \\[1ex]
    \retCmd[\tau]{e} & \retCmd*{e} \\
    \bndCmd{e}{x}{m} & \bndCmd*{e}{x}{m} \\
    \dclCmd{e}{a}{m} & \dclCmd*{e}{a}{m} \\[1ex]
    \refEx{a} & \refEx*{a} \\[1ex]
    \getCmd{a} & \getCmd*{a} \\
    \getrefCmd[\tau]{e} & \getrefCmd*{e} \\
    \setCmd{a}{e} & \setCmd*{a}{e} \\
    \setrefCmd[\tau]{e_1}{e_2} & \setrefCmd*[\tau]{e_1}{e_2}
 \end{array}
\end{displaymath}

\noindent Polarized types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \freeTy{\posTy{\tau}}   & \freeTy*{\posTy{\tau}} \\
    \freeEx[\posTy{\tau}]{v} & \freeEx*[\posTy{\tau}]{v} \\
    \fletEx[\negTy{\tau}][\negTy{\rho}]{e}{x}{e'} & \fletEx*{e}{x}{e'} \\
    \thunkTy{\negTy{\tau}}  & \thunkTy*{\negTy{\tau}} \\
    \thunkEx[\negTy{\tau}]{e} & \thunkEx*{e} \\
    \forceEx{v}   & \forceEx*{v}
  \end{array}
\end{displaymath}

\noindent Parallel types:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \tensorTy{\tau_1}{\tau_2} & \tensorTy*{\tau_1}{\tau_2} \\
    \tensorEx{v_1}{v_2} & \tensorEx*{v_1}{v_2} \\
    \splitEx{v}{x_1}{x_2}{e} & \splitEx*{v}{x_1}{x_2}{e} \\
    \bothTy{\tau_1}{\tau_2} & \bothTy*{\tau_1}{\tau_2} \\
    \bothEx{e_1}{e_2} & \bothEx*{e_1}{e_2} \\
    \parEx{e}{x}{y}{e'} & \parEx*{e}{x}{y}{e'}
  \end{array}
\end{displaymath}

\noindent Module signatures:
\begin{displaymath}
  \begin{array}{l@{\quad}l@{\quad}l}
    \univSg  & \univSg* \\
    \valSg{\tau} & \valSg*{\tau} \\
    \extSg{S}{M} & \extSg*{S}{M} \\
    \compSg{S}  & \compSg*{S} \\
    \piSg{S_1}{X}{S_2} & \piSg*{S_1}{X}{S_2} \\
    \sigSg{S_1}{X}{S_2} & \sigSg*{S_1}{X}{S_2}
  \end{array}
\end{displaymath}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% fill-column: 90
%%% auto-fill-mode: t
%%% End:
